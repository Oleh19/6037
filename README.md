# TT Project

## Встановлення та запуск

1. Встановити залежності:
   - `npm install`

2. Запустити проєкт у режимі розробки:
   - `npm run dev`

## Код-стайл

У проєкті код-стайл задається тільки через `eslint-config-airbnb-typescript`. Щоб забезпечити коректну роботу цієї конфігурації з TypeScript та ESLint, версії пакетів `@typescript-eslint/parser` і `@typescript-eslint/eslint-plugin` встановлені на 7.18.0.

Це необхідно, бо поточна версія `eslint-config-airbnb-typescript@18.0.0` сумісна тільки з `@typescript-eslint/*@^7.0.0`. ESLint залишився версії 8.57.1 для сумісності з цим стеком.

Таким чином, усі правила Airbnb працюють «з коробки», без додаткових плагінів чи ручних змін правил.

Також не використовується жодних додаткових правил для ESLint або Prettier, щоб не порушувати вимогу: код повинен повністю відповідати правилам «з коробки» eslint / airbnb. Наприклад, не налаштовано додаткові alias-правила.

### Градієнтний оверлей у свайперах

Реалізовано автоматичне приховування градієнтних оверлеїв, коли свайпер доскрольований до початку або кінця:

- **Правий градієнт** (для останнього видимого елемента):
  - **Свайпер днів**: градієнт зникає, коли досягнуто останнього дня (кнопка навігації вправо стає неактивною)
  - **Свайпер часу**: градієнт зникає, коли досягнуто "останнього часу" (кнопка навігації вправо стає неактивною)

- **Лівий градієнт** (для першого видимого елемента):
  - **Свайпер днів**: градієнт зникає, коли досягнуто першого дня (кнопка навігації вліво стає неактивною)
  - **Свайпер часу**: градієнт зникає, коли досягнуто "першого часу" (кнопка навігації вліво стає неактивною)

Градієнти автоматично з'являються знову, коли можна прокручувати далі.

## Робота з датами

### Використання date-fns

**date-fns використовується тільки для:**

1. **`addDays()`** — додавання календарних днів до дати
   - **Проблема нативного підходу**: додавання днів через мілісекунди може давати некоректні результати.
   - **Рішення**: `addDays()` коректно обробляє всі випадки, додаючи саме календарні дні незалежно від DST

2. **`startOfDay()`** — отримання початку дня в локальному часі
   - **Проблема нативного підходу**: `new Date(year, month, date)` створює дату в локальному часі, але не гарантує, що час буде точно 00:00:00.000
   - **Рішення**: `startOfDay()` явно встановлює час на початок дня в локальному часовому поясі користувача

**Чому не використовується повністю нативний підхід:**

Спроба реалізувати `addDays` нативно вимагає складного коду для обробки DST, переходів між місяцями та роками. `date-fns` надає перевірену реалізацію, яка коректно працює у всіх часових поясах та для всіх дат.

**Розмір бібліотеки:**

`date-fns` підтримує tree-shaking, тому в бандл потрапляють тільки використані функції (`addDays`, `startOfDay`), що мінімізує вплив на розмір бандлу.

## Використання Swiper

У проєкті використовується бібліотека `swiper` для реалізації горизонтальної прокрутки (каруселі) днів та часових слотів.

### Функціональність, яка використовується в проєкті:

1. **Визначення стану прокрутки** - `swiper.isBeginning`, `swiper.isEnd`
   - Використовується для приховування градієнтних оверлеїв та активації/деактивації кнопок навігації

2. **Доступ до слайдів** - `swiper.slides[index]`, `swiper.visibleSlides`
   - Критично необхідно для позиціонування міток місяців (`monthLabels`) над днями

3. **Налаштування відображення** - `slidesPerView`, `slidesPerGroup`, `spaceBetween`
   - Нативне рішення потребувало б ручного розрахунку позицій та обробки `resize` events

4.  **Підтримка свайпів на мобільних пристроях** 

### Розмір бібліотеки:

Swiper підтримує tree-shaking. Тому у проєкті використовується тільки необхідний функціонал (базовий Swiper без додаткових модулів), що мінімізує вплив на розмір бандлу.

## Використання Sass

Sass використовується для модульних стилів і зручної організації CSS через змінні та вкладеність. Це спрощує підтримку, дозволяє уникати дублювання і тримає стилі компонентів ізольованими.